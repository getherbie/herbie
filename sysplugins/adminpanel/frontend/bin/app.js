!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t,n,r,o,i){return{tag:e,key:t,attrs:n,children:r,text:o,dom:i,domSize:void 0,state:void 0,events:void 0,instance:void 0}}n.r(t),r.normalize=function(e){return Array.isArray(e)?r("[",void 0,void 0,r.normalizeChildren(e),void 0,void 0):null!=e&&"object"!=typeof e?r("#",void 0,void 0,!1===e?"":e,void 0,void 0):e},r.normalizeChildren=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=r.normalize(e[n]);return t};var o=function(){var e,t=arguments[this],n=this+1;if(null==t?t={}:("object"!=typeof t||null!=t.tag||Array.isArray(t))&&(t={},n=this),arguments.length===n+1)e=arguments[n],Array.isArray(e)||(e=[e]);else for(e=[];n<arguments.length;)e.push(arguments[n++]);return r("",t.key,t,e)},i=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l={},a={}.hasOwnProperty;function u(e){for(var t in e)if(a.call(e,t))return!1;return!0}function s(e){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var t=o.apply(1,arguments);return"string"==typeof e&&(t.children=r.normalizeChildren(t.children),"["!==e)?function(e,t){var n=t.attrs,o=r.normalizeChildren(t.children),i=a.call(n,"class"),l=i?n.class:n.className;if(t.tag=e.tag,t.attrs=null,t.children=void 0,!u(e.attrs)&&!u(n)){var s={};for(var d in n)a.call(n,d)&&(s[d]=n[d]);n=s}for(var d in e.attrs)a.call(e.attrs,d)&&"className"!==d&&!a.call(n,d)&&(n[d]=e.attrs[d]);for(var d in null==l&&null==e.attrs.className||(n.className=null!=l?null!=e.attrs.className?String(e.attrs.className)+" "+String(l):l:null!=e.attrs.className?e.attrs.className:null),i&&(n.class=null),n)if(a.call(n,d)&&"key"!==d){t.attrs=n;break}return Array.isArray(o)&&1===o.length&&null!=o[0]&&"#"===o[0].tag?t.text=o[0].children:t.children=o,t}(l[e]||function(e){for(var t,n="div",r=[],o={};t=i.exec(e);){var a=t[1],u=t[2];if(""===a&&""!==u)n=u;else if("#"===a)o.id=u;else if("."===a)r.push(u);else if("["===t[3][0]){var s=t[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(s):o[t[4]]=""===s?s:s||!0}}return r.length>0&&(o.className=r.join(" ")),l[e]={tag:n,attrs:o}}(e),t):(t.tag=e,t)}s.trust=function(e){return null==e&&(e=""),r("<",void 0,void 0,e,void 0,void 0)},s.fragment=function(){var e=o.apply(0,arguments);return e.tag="[",e.children=r.normalizeChildren(e.children),e};var d=function(){return s.apply(this,arguments)};if(d.m=s,d.trust=s.trust,d.fragment=s.fragment,(c=function(e){if(!(this instanceof c))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var t=this,n=[],r=[],o=u(n,!0),i=u(r,!1),l=t._instance={resolvers:n,rejectors:r},a="function"==typeof setImmediate?setImmediate:setTimeout;function u(e,o){return function u(d){var c;try{if(!o||null==d||"object"!=typeof d&&"function"!=typeof d||"function"!=typeof(c=d.then))a(function(){o||0!==e.length||console.error("Possible unhandled promise rejection:",d);for(var t=0;t<e.length;t++)e[t](d);n.length=0,r.length=0,l.state=o,l.retry=function(){u(d)}});else{if(d===t)throw new TypeError("Promise can't be resolved w/ itself");s(c.bind(d))}}catch(e){i(e)}}}function s(e){var t=0;function n(e){return function(n){t++>0||e(n)}}var r=n(i);try{e(n(o),r)}catch(e){r(e)}}s(e)}).prototype.then=function(e,t){var n,r,o=this._instance;function i(e,t,i,l){t.push(function(t){if("function"!=typeof e)i(t);else try{n(e(t))}catch(e){r&&r(e)}}),"function"==typeof o.retry&&l===o.state&&o.retry()}var l=new c(function(e,t){n=e,r=t});return i(e,o.resolvers,n,!0),i(t,o.rejectors,r,!1),l},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.finally=function(e){return this.then(function(t){return c.resolve(e()).then(function(){return t})},function(t){return c.resolve(e()).then(function(){return c.reject(t)})})},c.resolve=function(e){return e instanceof c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.all=function(e){return new c(function(t,n){var r=e.length,o=0,i=[];if(0===e.length)t([]);else for(var l=0;l<e.length;l++)!function(l){function a(e){o++,i[l]=e,o===r&&t(i)}null==e[l]||"object"!=typeof e[l]&&"function"!=typeof e[l]||"function"!=typeof e[l].then?a(e[l]):e[l].then(a,n)}(l)})},c.race=function(e){return new c(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})},"undefined"!=typeof window){void 0===window.Promise?window.Promise=c:window.Promise.prototype.finally||(window.Promise.prototype.finally=c.prototype.finally);var c=window.Promise}else if("undefined"!=typeof global){void 0===global.Promise?global.Promise=c:global.Promise.prototype.finally||(global.Promise.prototype.finally=c.prototype.finally);c=global.Promise}var f=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(e,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(e+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)r(e+"["+o+"]",n[o]);else t.push(encodeURIComponent(e)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}},h=function(e,t){var n,r=0;function o(e){return function(r,o){"string"!=typeof r?(o=r,r=r.url):null==o&&(o={});var i=new t(function(t,n){e(r,o,function(e){if("function"==typeof o.type)if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=new o.type(e[n]);else e=new o.type(e);t(e)},n)});if(!0===o.background)return i;var l=0;function a(){0==--l&&"function"==typeof n&&n()}return function e(t){var n=t.then;return t.then=function(){l++;var r=n.apply(t,arguments);return r.then(a,function(e){if(a(),0===l)throw e}),e(r)},t}(i)}}function i(e,t){for(var n in e.headers)if({}.hasOwnProperty.call(e.headers,n)&&t.test(n))return!0;return!1}function l(e,t,n){if(null==t)return e;if(e=e.replace(/:([^\/]+)/gi,function(e,n){return null!=t[n]?t[n]:e}),n&&null!=t){var r=f(t);r&&(e+=(e.indexOf("?")<0?"?":"&")+r)}return e}return{request:o(function(t,n,r,o){var a=null!=n.method?n.method.toUpperCase():"GET",u="GET"!==a&&"TRACE"!==a&&("boolean"!=typeof n.useBody||n.useBody),s=n.data,d=!(null!=n.serialize&&n.serialize!==JSON.serialize||s instanceof e.FormData);u&&("function"==typeof n.serialize?s=n.serialize(s):s instanceof e.FormData||(s=JSON.stringify(s)));var c=new e.XMLHttpRequest,f=!1,h=c.abort;for(var m in c.abort=function(){f=!0,h.call(c)},c.open(a,l(t,n.data,!u),"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),d&&u&&!i(n,/^content-type0$/i)&&c.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||i(n,/^accept$/i)||c.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(c.withCredentials=n.withCredentials),n.timeout&&(c.timeout=n.timeout),n.responseType&&(c.responseType=n.responseType),n.headers)({}).hasOwnProperty.call(n.headers,m)&&c.setRequestHeader(m,n.headers[m]);"function"==typeof n.config&&(c=n.config(c,n)||c),c.onreadystatechange=function(){if(!f&&4===c.readyState)try{var e=c.status>=200&&c.status<300||304===c.status||/^file:\/\//i.test(t),i=c.responseText;if("function"==typeof n.extract)i=n.extract(c,n),e=!0;else if("function"==typeof n.deserialize)i=n.deserialize(i);else try{i=i?JSON.parse(i):null}catch(e){throw new Error("Invalid JSON: "+i)}if(e)r(i);else{var l=new Error(c.responseText);l.code=c.status,l.response=i,o(l)}}catch(e){o(e)}},u&&null!=s?c.send(s):c.send()}),jsonp:o(function(t,n,o,i){var a=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,u=e.document.createElement("script");e[a]=function(t){u.parentNode.removeChild(u),o(t),delete e[a]},u.onerror=function(){u.parentNode.removeChild(u),i(new Error("JSONP request failed")),delete e[a]},t=l(t,n.data,!0),u.src=t+(t.indexOf("?")<0?"?":"&")+encodeURIComponent(n.callbackKey||"callback")+"="+encodeURIComponent(a),e.document.documentElement.appendChild(u)}),setCompletionCallback:function(e){n=e}}}(window,c),m=function(e){var t,n=e.document,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(e){return e.attrs&&e.attrs.xmlns||o[e.tag]}function l(e,t){if(e.state!==t)throw new Error("`vnode.state` must not be modified")}function a(e){var t=e.state;try{return this.apply(t,arguments)}finally{l(e,t)}}function u(){try{return n.activeElement}catch(e){return null}}function s(e,t,n,r,o,i,l){for(var a=n;a<r;a++){var u=t[a];null!=u&&d(e,u,o,l,i)}}function d(e,t,o,l,u){var c=t.tag;if("string"==typeof c)switch(t.state={},null!=t.attrs&&D(t.attrs,t,o),c){case"#":!function(e,t,r){t.dom=n.createTextNode(t.children),y(e,t.dom,r)}(e,t,u);break;case"<":f(e,t,l,u);break;case"[":!function(e,t,r,o,i){var l=n.createDocumentFragment();if(null!=t.children){var a=t.children;s(l,a,0,a.length,r,null,o)}t.dom=l.firstChild,t.domSize=l.childNodes.length,y(e,l,i)}(e,t,o,l,u);break;default:!function(e,t,o,l,a){var u=t.tag,d=t.attrs,c=d&&d.is,f=(l=i(t)||l)?c?n.createElementNS(l,u,{is:c}):n.createElementNS(l,u):c?n.createElement(u,{is:c}):n.createElement(u);t.dom=f,null!=d&&function(e,t,n){for(var r in t)x(e,r,null,t[r],n)}(t,d,l);if(y(e,f,a),null!=d&&null!=d.contenteditable)w(t);else if(null!=t.text&&(""!==t.text?f.textContent=t.text:t.children=[r("#",void 0,void 0,t.text,void 0,void 0)]),null!=t.children){var h=t.children;s(f,h,0,h.length,o,null,l),"select"===t.tag&&null!=d&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var n=""+t.value;e.dom.value===n&&-1!==e.dom.selectedIndex||(e.dom.value=n)}"selectedIndex"in t&&x(e,"selectedIndex",null,t.selectedIndex,void 0)}(t,d)}}(e,t,o,l,u)}else!function(e,t,n,o,i){(function(e,t){var n;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(n=e.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(n=e.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(D(e.state,e,t),null!=e.attrs&&D(e.attrs,e,t),e.instance=r.normalize(a.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(t,n),null!=t.instance?(d(e,t.instance,n,o,i),t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0):t.domSize=0}(e,t,o,l,u)}var c={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function f(e,t,r,o){var i=t.children.match(/^\s*?<(\w+)/im)||[],l=n.createElement(c[i[1]]||"div");"http://www.w3.org/2000/svg"===r?(l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",l=l.firstChild):l.innerHTML=t.children,t.dom=l.firstChild,t.domSize=l.childNodes.length;for(var a,u=n.createDocumentFragment();a=l.firstChild;)u.appendChild(a);y(e,u,o)}function h(e,t,n,r,o,i){if(t!==n&&(null!=t||null!=n))if(null==t||0===t.length)s(e,n,0,n.length,r,o,i);else if(null==n||0===n.length)b(t,0,t.length);else{for(var l=0,a=0,u=null,c=null;a<t.length;a++)if(null!=t[a]){u=null!=t[a].key;break}for(;l<n.length;l++)if(null!=n[l]){c=null!=n[l].key;break}if(null===c&&null==u)return;if(u!==c)b(t,a,t.length),s(e,n,l,n.length,r,o,i);else if(c){for(var f,h,w,x,E,S=t.length-1,A=n.length-1;S>=a&&A>=l;)if(w=t[S],x=n[A],null==w)S--;else if(null==x)A--;else{if(w.key!==x.key)break;w!==x&&m(e,w,x,r,o,i),null!=x.dom&&(o=x.dom),S--,A--}for(;S>=a&&A>=l;)if(f=t[a],h=n[l],null==f)a++;else if(null==h)l++;else{if(f.key!==h.key)break;a++,l++,f!==h&&m(e,f,h,r,g(t,a,o),i)}for(;S>=a&&A>=l;){if(null==f)a++;else if(null==h)l++;else if(null==w)S--;else if(null==x)A--;else{if(l===A)break;if(f.key!==x.key||w.key!==h.key)break;E=g(t,a,o),y(e,v(w),E),w!==h&&m(e,w,h,r,E,i),++l<=--A&&y(e,v(f),o),f!==x&&m(e,f,x,r,o,i),null!=x.dom&&(o=x.dom),a++,S--}w=t[S],x=n[A],f=t[a],h=n[l]}for(;S>=a&&A>=l;){if(null==w)S--;else if(null==x)A--;else{if(w.key!==x.key)break;w!==x&&m(e,w,x,r,o,i),null!=x.dom&&(o=x.dom),S--,A--}w=t[S],x=n[A]}if(l>A)b(t,a,S+1);else if(a>S)s(e,n,l,A+1,r,o,i);else{var z,C,T=o,_=A-l+1,N=new Array(_),P=0,D=0,L=2147483647,O=0;for(D=0;D<_;D++)N[D]=-1;for(D=A;D>=l;D--)if(null==z&&(z=p(t,a,S+1)),null!=(x=n[D])){var R=z[x.key];null!=R&&(L=R<L?R:-1,N[D-l]=R,w=t[R],t[R]=null,w!==x&&m(e,w,x,r,o,i),null!=x.dom&&(o=x.dom),O++)}if(o=T,O!==S-a+1&&b(t,a,S+1),0===O)s(e,n,l,A+1,r,o,i);else if(-1===L)for(P=(C=function(e){var t,n,r=e.slice(),o=[];o.push(0);for(var i=0,l=e.length;i<l;++i)if(-1!==e[i]){var a=o[o.length-1];if(e[a]<e[i])r[i]=a,o.push(i);else{for(t=0,n=o.length-1;t<n;){var u=(t+n)/2|0;e[o[u]]<e[i]?t=u+1:n=u}e[i]<e[o[t]]&&(t>0&&(r[i]=o[t-1]),o[t]=i)}}t=o.length,n=o[t-1];for(;t-- >0;)o[t]=n,n=r[n];return o}(N)).length-1,D=A;D>=l;D--)h=n[D],-1===N[D-l]?d(e,h,r,i,o):C[P]===D-l?P--:y(e,v(h),o),null!=h.dom&&(o=n[D].dom);else for(D=A;D>=l;D--)h=n[D],-1===N[D-l]&&d(e,h,r,i,o),null!=h.dom&&(o=n[D].dom)}}else{var j=t.length<n.length?t.length:n.length;for(l=l<a?l:a;l<j;l++)(f=t[l])===(h=n[l])||null==f&&null==h||(null==f?d(e,h,r,i,g(t,l+1,o)):null==h?k(f):m(e,f,h,r,g(t,l+1,o),i));t.length>j&&b(t,l,t.length),n.length>j&&s(e,n,l,n.length,r,o,i)}}}function m(e,t,n,o,l,u){var s=t.tag;if(s===n.tag){if(n.state=t.state,n.events=t.events,function(e,t){do{if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate){var n=a.call(e.attrs.onbeforeupdate,e,t);if(void 0!==n&&!n)break}if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate){var n=a.call(e.state.onbeforeupdate,e,t);if(void 0!==n&&!n)break}return!1}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,!0}(n,t))return;if("string"==typeof s)switch(null!=n.attrs&&L(n.attrs,n,o),s){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(t,n);break;case"<":!function(e,t,n,r,o){t.children!==n.children?(v(t),f(e,n,r,o)):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,u,l);break;case"[":!function(e,t,n,r,o,i){h(e,t.children,n.children,r,o,i);var l=0,a=n.children;if(n.dom=null,null!=a){for(var u=0;u<a.length;u++){var s=a[u];null!=s&&null!=s.dom&&(null==n.dom&&(n.dom=s.dom),l+=s.domSize||1)}1!==l&&(n.domSize=l)}}(e,t,n,o,l,u);break;default:!function(e,t,n,o){var l=t.dom=e.dom;o=i(t)||o,"textarea"===t.tag&&(null==t.attrs&&(t.attrs={}),null!=t.text&&(t.attrs.value=t.text,t.text=void 0));(function(e,t,n,r){if(null!=n)for(var o in n)x(e,o,t&&t[o],n[o],r);var i;if(null!=t)for(var o in t)null==(i=t[o])||null!=n&&null!=n[o]||E(e,o,i,r)})(t,e.attrs,t.attrs,o),null!=t.attrs&&null!=t.attrs.contenteditable?w(t):null!=e.text&&null!=t.text&&""!==t.text?e.text.toString()!==t.text.toString()&&(e.dom.firstChild.nodeValue=t.text):(null!=e.text&&(e.children=[r("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=t.text&&(t.children=[r("#",void 0,void 0,t.text,void 0,void 0)]),h(l,e.children,t.children,n,null,o))}(t,n,o,u)}else!function(e,t,n,o,i,l){if(n.instance=r.normalize(a.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");L(n.state,n,o),null!=n.attrs&&L(n.attrs,n,o);null!=n.instance?(null==t.instance?d(e,n.instance,o,l,i):m(e,t.instance,n.instance,o,i,l),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=t.instance?(k(t.instance),n.dom=void 0,n.domSize=0):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,o,l,u)}else k(t),d(e,n,o,u,l)}function p(e,t,n){for(var r=Object.create(null);t<n;t++){var o=e[t];if(null!=o){var i=o.key;null!=i&&(r[i]=t)}}return r}function v(e){var t=e.domSize;if(null!=t||null==e.dom){var r=n.createDocumentFragment();if(t>0){for(var o=e.dom;--t;)r.appendChild(o.nextSibling);r.insertBefore(o,r.firstChild)}return r}return e.dom}function g(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function y(e,t,n){null!=n?e.insertBefore(t,n):e.appendChild(t)}function w(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function b(e,t,n){for(var r=t;r<n;r++){var o=e[r];null!=o&&k(o)}}function k(e){var t,n=1,r=0,o=e.state;"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&(null!=(t=a.call(e.state.onbeforeremove,e))&&"function"==typeof t.then&&(n++,t.then(i,i)));e.attrs&&"function"==typeof e.attrs.onbeforeremove&&(null!=(t=a.call(e.attrs.onbeforeremove,e))&&"function"==typeof t.then&&(n++,t.then(i,i)));function i(){if(++r===n&&(l(e,o),function e(t){"string"!=typeof t.tag&&"function"==typeof t.state.onremove&&a.call(t.state.onremove,t);t.attrs&&"function"==typeof t.attrs.onremove&&a.call(t.attrs.onremove,t);if("string"!=typeof t.tag)null!=t.instance&&e(t.instance);else{var n=t.children;if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];null!=o&&e(o)}}}(e),e.dom)){for(var t=e.dom.parentNode,i=e.domSize||1;--i;)t.removeChild(e.dom.nextSibling);t.removeChild(e.dom)}}i()}function x(e,t,r,o,i){if("key"!==t&&"is"!==t&&null!=o&&!S(t)&&(r!==o||function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===u()||"option"===e.tag&&e.dom.parentNode===n.activeElement}(e,t)||"object"==typeof o)){if("o"===t[0]&&"n"===t[1])return P(e,t,o);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),o);else if("style"===t)_(e.dom,r,o);else if(A(e,t,i)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+o&&e.dom===u())return;if("select"===e.tag&&null!==r&&e.dom.value===""+o)return;if("option"===e.tag&&null!==r&&e.dom.value===""+o)return}"input"===e.tag&&"type"===t?e.dom.setAttribute(t,o):e.dom[t]=o}else"boolean"==typeof o?o?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,o)}}function E(e,t,n,r){if("key"!==t&&"is"!==t&&null!=n&&!S(t))if("o"!==t[0]||"n"!==t[1]||S(t))if("style"===t)_(e.dom,n,null);else if(!A(e,t,r)||"className"===t||"value"===t&&("option"===e.tag||"select"===e.tag&&-1===e.dom.selectedIndex&&e.dom===u())||"input"===e.tag&&"type"===t){var o=t.indexOf(":");-1!==o&&(t=t.slice(o+1)),!1!==n&&e.dom.removeAttribute("className"===t?"class":t)}else e.dom[t]=null;else P(e,t,void 0)}function S(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function A(e,t,n){return void 0===n&&(e.tag.indexOf("-")>-1||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var z=/[A-Z]/g;function C(e){return"-"+e.toLowerCase()}function T(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(z,C)}function _(e,t,n){if(t===n);else if(null==n)e.style.cssText="";else if("object"!=typeof n)e.style.cssText=n;else if(null==t||"object"!=typeof t)for(var r in e.style.cssText="",n){null!=(o=n[r])&&e.style.setProperty(T(r),String(o))}else{for(var r in n){var o;null!=(o=n[r])&&(o=String(o))!==String(t[r])&&e.style.setProperty(T(r),o)}for(var r in t)null!=t[r]&&null==n[r]&&e.style.removeProperty(T(r))}}function N(){}function P(e,t,n){if(null!=e.events){if(e.events[t]===n)return;null==n||"function"!=typeof n&&"object"!=typeof n?(null!=e.events[t]&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0):(null==e.events[t]&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=n)}else null==n||"function"!=typeof n&&"object"!=typeof n||(e.events=new N,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=n)}function D(e,t,n){"function"==typeof e.oninit&&a.call(e.oninit,t),"function"==typeof e.oncreate&&n.push(a.bind(e.oncreate,t))}function L(e,t,n){"function"==typeof e.onupdate&&n.push(a.bind(e.onupdate,t))}return N.prototype=Object.create(null),N.prototype.handleEvent=function(e){var n,r=this["on"+e.type];"function"==typeof r?n=r.call(e.currentTarget,e):"function"==typeof r.handleEvent&&r.handleEvent(e),!1===e.redraw?e.redraw=void 0:"function"==typeof t&&t(),!1===n&&(e.preventDefault(),e.stopPropagation())},{render:function(e,t){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=[],o=u(),i=e.namespaceURI;null==e.vnodes&&(e.textContent=""),t=r.normalizeChildren(Array.isArray(t)?t:[t]),h(e,e.vnodes,t,n,null,"http://www.w3.org/1999/xhtml"===i?void 0:i),e.vnodes=t,null!=o&&u()!==o&&"function"==typeof o.focus&&o.focus();for(var l=0;l<n.length;l++)n[l]()},setRedraw:function(e){return t=e}}};var p=function(e,t){var n=m(e),r=[],o=!1;function i(e){var t=r.indexOf(e);t>-1&&r.splice(t,2)}function l(){if(o)throw new Error("Nested m.redraw.sync() call");o=!0;for(var e=1;e<r.length;e+=2)try{r[e]()}catch(e){"undefined"!=typeof console&&console.error(e)}o=!1}var a=(t||function(e){var t=null;return function(){null===t&&(t=requestAnimationFrame(function(){t=null,e()}))}})(l);return a.sync=l,n.setRedraw(a),{subscribe:function(e,t){i(e),r.push(e,t)},unsubscribe:i,redraw:a,render:n.render}}(window);h.setCompletionCallback(p.redraw);var v;d.mount=(v=p,function(e,t){if(null===t)return v.render(e,[]),void v.unsubscribe(e);if(null==t.view&&"function"!=typeof t)throw new Error("m.mount(element, component) expects a component, not a vnode");var n=function(){v.render(e,r(t))};v.subscribe(e,n),n()});var g=c,y=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},o=0;o<t.length;o++){var i=t[o].split("="),l=decodeURIComponent(i[0]),a=2===i.length?decodeURIComponent(i[1]):"";"true"===a?a=!0:"false"===a&&(a=!1);var u=l.split(/\]\[?|\[/),s=n;l.indexOf("[")>-1&&u.pop();for(var d=0;d<u.length;d++){var c=u[d],f=u[d+1],h=""==f||!isNaN(parseInt(f,10)),m=d===u.length-1;if(""===c)null==r[l=u.slice(0,d).join()]&&(r[l]=0),c=r[l]++;null==s[c]&&(s[c]=m?a:h?[]:{}),s=s[c]}}return n},w=function(e){var t,n="function"==typeof e.history.pushState,r="function"==typeof setImmediate?setImmediate:setTimeout;function o(t){var n=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==n[0]&&(n="/"+n),n}function i(e,t,n){var r=e.indexOf("?"),o=e.indexOf("#"),i=r>-1?r:o>-1?o:e.length;if(r>-1){var l=o>-1?o:e.length,a=y(e.slice(r+1,l));for(var u in a)t[u]=a[u]}if(o>-1){var s=y(e.slice(o+1));for(var u in s)n[u]=s[u]}return e.slice(0,i)}var l={prefix:"#!",getPath:function(){switch(l.prefix.charAt(0)){case"#":return o("hash").slice(l.prefix.length);case"?":return o("search").slice(l.prefix.length)+o("hash");default:return o("pathname").slice(l.prefix.length)+o("search")+o("hash")}},setPath:function(t,r,o){var a={},u={};if(t=i(t,a,u),null!=r){for(var s in r)a[s]=r[s];t=t.replace(/:([^\/]+)/g,function(e,t){return delete a[t],r[t]})}var d=f(a);d&&(t+="?"+d);var c=f(u);if(c&&(t+="#"+c),n){var h=o?o.state:null,m=o?o.title:null;e.onpopstate(),o&&o.replace?e.history.replaceState(h,m,l.prefix+t):e.history.pushState(h,m,l.prefix+t)}else e.location.href=l.prefix+t}};return l.defineRoutes=function(o,a,u){function s(){var t=l.getPath(),n={},r=i(t,n,n),s=e.history.state;if(null!=s)for(var d in s)n[d]=s[d];for(var c in o){var f=new RegExp("^"+c.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(f.test(r))return void r.replace(f,function(){for(var e=c.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),i=0;i<e.length;i++)n[e[i].replace(/:|\./g,"")]=decodeURIComponent(r[i]);a(o[c],n,t,c)})}u(t,n)}var d;n?e.onpopstate=(d=s,function(){null==t&&(t=r(function(){t=null,d()}))}):"#"===l.prefix.charAt(0)&&(e.onhashchange=s),s()},l};d.route=function(e,t){var n,o,i,l,a,u=w(e),s=function(e,s,d){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");function c(){null!=n&&t.render(e,n(r(o,i.key,i)))}var f=function(){c(),f=t.redraw};t.subscribe(e,c);var h=function(e){if(e===s)throw new Error("Could not resolve default route "+s);u.setPath(s,null,{replace:!0})};u.defineRoutes(d,function(e,t,r){var u=a=function(e,s){u===a&&(o=null==s||"function"!=typeof s.view&&"function"!=typeof s?"div":s,i=t,l=r,a=null,n=(e.render||function(e){return e}).bind(e),f())};e.view||"function"==typeof e?u({},e):e.onmatch?g.resolve(e.onmatch(t,r)).then(function(t){u(e,t)},h):u(e,"div")},h)};s.set=function(e,t,n){null!=a&&((n=n||{}).replace=!0),a=null,u.setPath(e,t,n)},s.get=function(){return l},s.prefix=function(e){u.prefix=e};var d=function(e,t){t.dom.setAttribute("href",u.prefix+t.attrs.href),t.dom.onclick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault(),t.redraw=!1;var n=this.getAttribute("href");0===n.indexOf(u.prefix)&&(n=n.slice(u.prefix.length)),s.set(n,void 0,e)}}};return s.link=function(e){return null==e.tag?d.bind(d,e):d({},e)},s.param=function(e){return void 0!==i&&void 0!==e?i[e]:i},s}(window,p);var b=m(window);d.render=b.render,d.redraw=p.redraw,d.request=h.request,d.jsonp=h.jsonp;var k=d,x=(d.parseQueryString=y,d.buildQueryString=f,d.version="2.0.0-rc.4",d.vnode=r,d.PromisePolyfill=c,{view:function(e){return k("#layout.app",[k("a#menuLink.menu-link[href='#']",[k("span")]),k("div#menu",[k("div.pure-menu",[k("a.pure-menu-heading[href='/']",{oncreate:k.route.link},"HERBIE"),k("ul.pure-menu-list",[k("li.pure-menu-item",[k("a.pure-menu-link[href='/page']",{oncreate:k.route.link},"Page")]),k("li.pure-menu-item",[k("a.pure-menu-link[href='/data']",{oncreate:k.route.link},"Data")]),k("li.pure-menu-item",[k("a.pure-menu-link[href='/media']",{oncreate:k.route.link},"Media")]),k("li.pure-menu-item",[k("a.pure-menu-link[href='/tools']",{oncreate:k.route.link},"Tools")]),k("li.pure-menu-item",[k("a.pure-menu-link[href='/test']",{oncreate:k.route.link},"Test")]),k("li.pure-menu-item",{},"-"),k("li.pure-menu-item",[k("a.pure-menu-link[href='"+WEB_URL+"']",{},"Frontend")]),k("li.pure-menu-item",[k("a.pure-menu-link[href='/logout']",{oncreate:k.route.link},"Logout")])])])]),k("div#main",[k("div.content",[k("div.pure-g",[k("div.pure-u-1",e.children)])])])])}}),E={view:function(e){return k("#layout--login.app",[k(".layout__inner--login",e.children)])}},S={oninit(){},view:()=>k.trust("<h1>Page</h1>")},A={oninit(){},view:()=>k.trust("<h1>Data</h1>")};let z={username:"",password:"",setUsername(e){z.username=e},setPassword(e){z.password=e},login:()=>k.request({method:"POST",url:WEB_URL+"/adminpanel/auth",data:{username:z.username,password:z.password}}).then(function(e){localStorage.setItem("auth-token",e.token),k.route.set("/")}),logout(){z.username="",z.password="",localStorage.removeItem("auth-token"),document.cookie="HERBIE_FRONTEND_PANEL=; Max-Age=-99999999; Path=/"}};var C=z;var T={show(e){401==e.code&&k.route.set("/login"),alert(e.response.message)}},_={view(){return[k(".pure-form",[k(".test",[k("input.pure-input-1[type=text][placeholder=Username][required]",{oninput:e=>{C.setUsername(e.target.value)},onkeyup:e=>{13==e.keyCode&&this.login(),e.redraw=!1},value:C.username})]),k(".test",[k("input.pure-input-1[type=password][placeholder=Password][required]",{oninput:e=>{C.setPassword(e.target.value)},onkeyup:e=>{13==e.keyCode&&this.login(),e.redraw=!1},value:C.password})]),k("button.pure-button[type=button]",{onclick:()=>this.login()},"Login")]),k(".link",[k("a[href='"+WEB_URL+"']",{},"To website")])]},login(){C.login().catch(e=>{T.show(e)})}};let N={currentDir:"",list:[],loadList(){return k.request({method:"GET",url:WEB_URL+"/adminpanel/media",data:{dir:this.currentDir},headers:{Authorization:"Bearer "+localStorage.getItem("auth-token")}}).then(e=>{N.list=e})},add:e=>k.request({method:"POST",url:WEB_URL+"/adminpanel/media/addfolder",data:e,headers:{Authorization:"Bearer "+localStorage.getItem("auth-token")}}).then(e=>{N.list.entries.push(e)}),removeFolder:e=>k.request({method:"DELETE",url:WEB_URL+"/adminpanel/media/deletefolder",data:{folder:N.list.entries[e].path},headers:{Authorization:"Bearer "+localStorage.getItem("auth-token")}}).then(()=>{N.list.entries.splice(e,1)}),removeFile:e=>k.request({method:"DELETE",url:WEB_URL+"/adminpanel/media/deletefile",data:{file:N.list.entries[e].path},headers:{Authorization:"Bearer "+localStorage.getItem("auth-token")}}).then(()=>{N.list.entries.splice(e,1)}),uploadFile(e){var t=new FormData;return t.append("uploadFile",e),t.append("currentDir",this.currentDir),k.request({method:"POST",url:WEB_URL+"/adminpanel/media/uploadfile",data:t,headers:{Authorization:"Bearer "+localStorage.getItem("auth-token")}}).then(e=>{N.list.entries.push(e)})}};var P=N,D={folderName:"",oninit(){P.loadList().catch(e=>{T.show(e)})},view(){return[k("h1","Dateiablage"),this.renderTable()]},renderTable(){return 0===P.list.length?k("div","No test entries"):[k("div.media__forms",[this.createFolderForm(),this.uploadFileForm()]),k("table.pure-table.pure-table-horizontal.media__table",[k("thead",[k("tr",[k("th.icon[width=1%]"),k("th.title[width=55%]","Datei"),k("th[width=20%]","Grösse"),k("th[width=20%]","Art"),k("th[width=4%]")])]),k("tbody#test-tbody",[this.renderNavigationRow(P.list),P.list.entries.map((e,t)=>"dir"===e.type?this.renderDirRow(e,t):this.renderFileRow(e,t))])])]},renderDirRow(e,t){return[k("tr",[k("td.icon",[k("i.fa.fa-folder-o.fa-lg")]),k("td.title",[k("a[href='#']",{onclick:t=>{t.preventDefault(),P.currentDir=e.path,P.loadList().catch(e=>{T.show(e)})}},e.name)]),k("td",e.size),k("td",e.ext),k("td",[k("button.pure-button.button-small",{onclick:e=>{this.removeDir(t)}},"Delete")])])]},renderFileRow(e,t){return[k("tr",[k("td.icon",[k("i.fa.fa-file-o.fa-lg")]),k("td.title",e.name),k("td",e.size),k("td",e.ext),k("td",[k("button.pure-button.button-small",{onclick:e=>{this.removeFile(t)}},"Delete")])])]},createFolderForm(){return k("div.pure-form.form-add-folder",[k("input.name[type=text][name=name]",{oninput:e=>{this.folderName=e.target.value,e.redraw=!1},onkeyup:e=>{13==e.keyCode&&(this.folderName=e.target.value,this.addFolder(this.folderName)),e.redraw=!1},value:this.folderName}),k("button.save.pure-button",{onclick:e=>{this.addFolder(this.folderName)}},"Order erstellen")])},uploadFileForm(){return k("div.pure-form.form-upload",[k("button.pure-button#fileselector",{onclick:e=>{document.getElementById("file_upload").click()}},"Dateien hochladen"),k("input#file_upload[type=file][name=file_upload]",{onchange:this.uploadFile})])},renderNavigationRow(e){if(""!=e.currentDir)return k("tr",[k("td.icon",[k("i.fa.fa-level-up.fa-lg")]),k("td.title[colspan=4]",[k("a[href='#']",{onclick:t=>{t.preventDefault(),P.currentDir=e.parentDir,P.loadList().catch(e=>{T.show(e)})}},"..")])])},removeDir(e){confirm("Delete folder?")&&P.removeFolder(e).catch(e=>{T.show(e)})},removeFile(e){confirm("Delete file?")&&P.removeFile(e).catch(e=>{T.show(e)})},addFolder(e){P.add({folderName:e,currentDir:P.list.currentDir}).catch(e=>{T.show(e)}),this.folderName=""},uploadFile(e){var t=e.target.files[0];P.uploadFile(t).catch(e=>{T.show(e)})}},L={oninit(){},view:()=>k.trust("<h1>Tools</h1>")},O={oninit(){},view:()=>k.trust("<h1>Index</h1>")};let R={list:[],loadList:()=>k.request({method:"GET",url:WEB_URL+"/adminpanel/test",headers:{Authorization:"Bearer "+localStorage.getItem("auth-token")}}).then(e=>{R.list=e}),add:e=>k.request({method:"POST",url:WEB_URL+"/adminpanel/test/add",data:e,headers:{Authorization:"Bearer "+localStorage.getItem("auth-token")}}).then(()=>{R.list.push(e)}),remove:e=>k.request({method:"DELETE",url:WEB_URL+"/adminpanel/test/"+e,headers:{Authorization:"Bearer "+localStorage.getItem("auth-token")}}).then(()=>{R.list.splice(e,1)})};var j=R,I={name:"",error:"",oninit(){j.loadList().catch(e=>{T.show(e)})},view(){return[k("h1","Test"),k("div.pure-form",[k("input.pure-input[data-target=test.name]",{oninput:e=>{this.name=e.target.value,e.redraw=!1},onkeypress:e=>{this.error="",e.redraw=!1},onkeyup:e=>{13==e.keyCode&&(this.name=e.target.value,this.add()),e.redraw=!1},value:this.name}),k("button.pure-button",{onclick:e=>{this.add()}},"Add")]),this.renderError(),k("br"),this.renderTable()]},renderError(){return""==this.error?k("span.error.hidden",this.error):k("span.error",this.error)},renderTable(){return 0===j.list.length?k("div","No test entries"):k("table#test-table.pure-table.pure-table-horizontal",[k("thead",[k("tr",[k("th[width=99%]","Type"),k("th[width=1%]")])]),k("tbody#test-tbody",j.list.map((e,t)=>k("tr",[k("td",e.name),k("td",[k("button.pure-button.button-small",{onclick:e=>{this.remove(t)}},"Delete")])])))])},add(){""!=this.name&&j.add({name:this.name}).then(()=>{this.name=""}).catch(e=>{T.show(e)})},remove(e){confirm("Delete row?")&&j.remove(e).catch(e=>{T.show(e)})}},F={oninit(){},view:()=>k("h1","Page not found")};function B(){localStorage.getItem("auth-token")||k.route.set("/login")}function U(e=""){if(document.querySelectorAll(".site-navigation a").forEach(e=>{e.classList.remove("active")}),""===e)return;let t=document.querySelector(e);t&&t.classList.add("active")}k.route(document.body,"/",{"/":{onmatch:B,render:()=>(document.title="Index // Adminpanel",U(".site-navigation__index a"),k(x,k(O)))},"/page":{onmatch:B,render:()=>(document.title="Page // Adminpanel",U(".site-navigation__test a"),k(x,k(S)))},"/data":{onmatch:B,render:()=>(document.title="Data // Adminpanel",U(".site-navigation__test a"),k(x,k(A)))},"/media":{onmatch:B,render:()=>(document.title="Media // Adminpanel",U(".site-navigation__test a"),k(x,k(D)))},"/tools":{onmatch:B,render:()=>(document.title="Tools // Adminpanel",U(".site-navigation__test a"),k(x,k(L)))},"/test":{onmatch:B,render:()=>(document.title="Test // Adminpanel",U(".site-navigation__test a"),k(x,k(I,{})))},"/login":{render:()=>(document.title="Login // Adminpanel",U(".site-navigation__login a"),k(E,k(_,{})))},"/logout":{onmatch:()=>{C.logout(),k.route.set("/login")}},"/:404...":{render:()=>(document.title="Error // Adminpanel",U(),k(E,k(F)))}})}]);